<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="{{url_for('static',filename='js/admin.js')}}" defer></script>
    <title>Document</title>
</head>
<body>
    <button onclick="userList()">user</button>
    <button onclick="problemList()">ctf</button>
    <button onclick="noticeList()">notice</button>
    <button onclick="solvedList()">solved</button>
    <button onclick="logList()">log</button>
    <div id="users">
        {%for user in user_list%}
        <div class="userNameBox" onclick="updateUserGet(`{{url_for('admin_page_user_get')}}`, '{{user[0]}}', '{{user[1]}}', '{{csrf_token()}}')">{{user[0]}}({{user[1]}})</div>
        {%endfor%}
        <div>
            <form id="userForm" action="{{url_for('admin_page_user_update')}}" method='POST' style="display:none;">
                <input type="text" name="userId" id="userId" readonly><br>
                <input type="button" id="userPwChange" value="change password"><br>
                <input type="text" name="userName" id="userName"><br>
                <input type="email" name="userEmail" id="userEmail"><br>
                <input type="text" name="userSchool" id="userSchool"><br>
                <span id="userScore"></span>
                <span id="userSolved"></span>
                <span id="userTry"></span>
                <input type="checkbox" name="userVisible" id="userVisible" value="visible">
                <label for="userVisible">Visible</label><br>
                <p id="userRegisterDate"></p>
                <p id="lastSolvedDate"></p>
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                <input type="submit" id="userSubmit">
            </form>
        </div>
    </div>
    <div id="problem" style="display:none;">
        {%for problem in problem_list%}
        <div class="problemNameBox" onclick="updateProblemGet(`{{url_for('admin_page_ctf_get')}}`, '{{problem[0]}}', '{{ csrf_token() }}', `{{url_for('admin_page_ctf_update')}}`)">{{problem[0]}}</div>
        {%endfor%}
        <button id="addProblem" onclick="addProblemForm(`{{url_for('admin_page_ctf_add')}}`, '{{csrf_token()}}', `{{url_for('admin_page_ctf_get')}}`, `{{url_for('admin_page_ctf_update')}}`)">add</button>
        <div>
            <div id="problemForm" style="display:none;">
                <input type="text" name="problemName" id="problemName" placeholder="Problem Name"><br>
                <input type="text" name="problemFlag" id="problemFlag" placeholder="Flag"><br>
                <input type="radio" name="problemType" id="web" value="web">
                <label for="web">web</label>
                <input type="radio" name="problemType" id="pwnable" value="pwnable">
                <label for="pwnable">pwnable</label>
                <input type="radio" name="problemType" id="reversing" value="reversing">
                <label for="reversing">reversing</label><br>
                <textarea name="problemContents" id="problemContents" placeholder="Contents"></textarea><br>
                <input type="text" name="problemFile" id="problemFile" placeholder="File URL"><br>
                <input type="checkbox" name="problemVisible" id="problemVisible" value="visible">
                <label for="problemVisible">Visible</label><br>
                <input type="submit" id="problemSubmit">
                <input type="button" id="problemDelete" value="delete" onclick="deleteProblem(`{{url_for('admin_page_ctf_delete')}}`, '{{csrf_token()}}')">
                <p id="result"></p>
            </div>
        </div>
    </div>
    <div id="notice" style="display:none;">
        {%for notice in notice_list%}
        <div class="noticeTitle" onclick=""></div>
        {%endfor%}
    </div>
    <div id="solved" style="display:none">
        {%for solved in solved_list%}
        <p>{{solved}}</p>
        {%endfor%}
    </div>
    <div id="log" style="display:none">
        {%for log in log_list%}
        <p>{{log}}</p>
        {%endfor%}
    </div>
</body>
</html>